
> values.md@0.1.0 dev
> next dev --turbopack

   ▲ Next.js 15.3.3 (Turbopack)
   - Local:        http://localhost:3000
   - Network:      http://45.90.121.59:3000
   - Environments: .env.local, .env

 ✓ Starting...
 ✓ Ready in 1417ms
 ○ Compiling /api/dilemmas/[uuid] ...
 ✓ Compiled /api/dilemmas/[uuid] in 2.3s
[2025-07-06T13:26:16.953Z] GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594
Headers: {
  accept: '*/*',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
API Error: Error [ZodError]: [
  {
    "code": "too_small",
    "minimum": 1,
    "type": "number",
    "inclusive": true,
    "exact": false,
    "message": "Number must be greater than or equal to 1",
    "path": [
      "limit"
    ]
  },
  {
    "expected": "'true' | 'false'",
    "received": "null",
    "code": "invalid_type",
    "path": [
      "all"
    ],
    "message": "Expected 'true' | 'false', received null"
  }
]
    at handleGET (src/app/api/dilemmas/[uuid]/route.ts:43:44)
    at async (src/lib/api-error-handler.ts:163:13)
  41 |   
  42 |   // Validate pagination parameters
> 43 |   const paginationParams = PaginationSchema.parse({
     |                                            ^
  44 |     limit: url.searchParams.get('limit'),
  45 |     offset: url.searchParams.get('offset'),
  46 |     all: url.searchParams.get('all') {
  issues: [Array],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)]
}
 GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594 400 in 3412ms
 ○ Compiling /api/health ...
 ✓ Compiled /api/health in 1132ms
🔍 Health check: Testing database connectivity...
🔍 Health check: Testing dilemmas table...
🔍 Health check: Testing random dilemma API...
 ○ Compiling /api/dilemmas/random ...
 ✓ Compiled /api/dilemmas/random in 926ms
 GET /api/dilemmas/random 307 in 1103ms
🔍 Health check: Testing responses API...
 GET /api/dilemmas/random 307 in 133ms
 ○ Compiling /api/responses ...
 ✓ Compiled /api/responses in 906ms
[2025-07-06T13:40:04.175Z] POST /api/responses
Headers: {
  accept: '*/*',
  'accept-encoding': 'gzip, deflate',
  'accept-language': '*',
  connection: 'keep-alive',
  'content-length': '201',
  'content-type': 'application/json',
  host: 'localhost:3000',
  'sec-fetch-mode': 'cors',
  'user-agent': 'node',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
📥 Received 1 responses for session health-check-1751809203224
💾 Inserting responses into database...
✅ Successfully inserted 1 responses
[2025-07-06T13:40:04.433Z] Response 200 (258ms)
 POST /api/responses 200 in 1209ms
🔍 Health check: Testing user responses table...
🔍 Health check: Testing generate values API...
 ○ Compiling /api/generate-values ...
 ✓ Compiled /api/generate-values in 900ms
🔍 Looking for responses for session: sim-user-1-1750010354931
📊 Found 12 responses for session sim-user-1-1750010354931
💾 Cached values for session sim-user-1-1750010354931
 POST /api/generate-values 200 in 1253ms
✅ Health check completed: pass
 GET /api/health 200 in 6317ms
[2025-07-06T13:40:20.768Z] GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594?all=true
Headers: {
  accept: '*/*',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
API Error: Error [ZodError]: [
  {
    "code": "too_small",
    "minimum": 1,
    "type": "number",
    "inclusive": true,
    "exact": false,
    "message": "Number must be greater than or equal to 1",
    "path": [
      "limit"
    ]
  }
]
    at handleGET (src/app/api/dilemmas/[uuid]/route.ts:43:44)
    at async (src/lib/api-error-handler.ts:163:13)
  41 |   
  42 |   // Validate pagination parameters
> 43 |   const paginationParams = PaginationSchema.parse({
     |                                            ^
  44 |     limit: url.searchParams.get('limit'),
  45 |     offset: url.searchParams.get('offset'),
  46 |     all: url.searchParams.get('all') {
  issues: [Array],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)]
}
 GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594?all=true 400 in 328ms
[2025-07-06T13:40:28.601Z] GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594?all=true&limit=25
Headers: {
  accept: '*/*',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
📥 Fetching dilemmas: UUID=a616e43d-85ed-44d7-948e-d69cb160d594, limit=25, offset=0, loadAll=true
[2025-07-06T13:40:29.584Z] Response 200 (983ms)
 GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594?all=true&limit=25 200 in 1041ms
 HEAD /api/dilemmas/random 307 in 390ms
[2025-07-06T13:40:56.843Z] GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594
Headers: {
  accept: '*/*',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
API Error: Error [ZodError]: [
  {
    "code": "too_small",
    "minimum": 1,
    "type": "number",
    "inclusive": true,
    "exact": false,
    "message": "Number must be greater than or equal to 1",
    "path": [
      "limit"
    ]
  },
  {
    "expected": "'true' | 'false'",
    "received": "null",
    "code": "invalid_type",
    "path": [
      "all"
    ],
    "message": "Expected 'true' | 'false', received null"
  }
]
    at handleGET (src/app/api/dilemmas/[uuid]/route.ts:47:44)
    at async (src/lib/api-error-handler.ts:163:13)
  45 |   
  46 |   // Validate pagination parameters
> 47 |   const paginationParams = PaginationSchema.parse({
     |                                            ^
  48 |     limit: url.searchParams.get('limit'),
  49 |     offset: url.searchParams.get('offset'),
  50 |     all: url.searchParams.get('all') {
  issues: [Array],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)]
}
 GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594 400 in 535ms
[2025-07-06T13:41:27.200Z] GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594
Headers: {
  accept: '*/*',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
📥 Fetching dilemmas: UUID=a616e43d-85ed-44d7-948e-d69cb160d594, limit=25, offset=0, loadAll=false
[2025-07-06T13:41:27.993Z] Response 200 (792ms)
 GET /api/dilemmas/a616e43d-85ed-44d7-948e-d69cb160d594 200 in 1131ms
 GET /api/dilemmas/random 307 in 363ms
 ○ Compiling / ...
 ✓ Compiled / in 3.9s
 GET / 200 in 4627ms
 ○ Compiling /_not-found/page ...
 ✓ Compiled /_not-found/page in 1616ms
 GET /api/v1/users/search 404 in 1728ms
 GET /api/v1/users/search 404 in 81ms
 ○ Compiling /api/generate-values-combinatorial ...
 ✓ Compiled /api/generate-values-combinatorial in 1173ms
[2025-07-06T17:46:57.753Z] POST /api/generate-values-combinatorial
Headers: {
  accept: '*/*',
  'content-length': '118',
  'content-type': 'application/json',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
API Error: Error [ZodError]: [
  {
    "validation": "uuid",
    "code": "invalid_string",
    "message": "Invalid uuid",
    "path": [
      "responses",
      0,
      "dilemmaId"
    ]
  }
]
    at <unknown> (src/lib/api-quality-patterns.ts:67:47)
    at async (src/lib/api-error-handler.ts:163:13)
  65 |       try {
  66 |         const body = await request.json();
> 67 |         validatedBody = config.validateRequest.parse(body);
     |                                               ^
  68 |       } catch (error) {
  69 |         if (error instanceof z.ZodError) {
  70 |           throw error; // Will be handled by withErrorHandler {
  issues: [Array],
  addIssue: [Function (anonymous)],
  addIssues: [Function (anonymous)]
}
 POST /api/generate-values-combinatorial 400 in 1467ms
[2025-07-06T17:47:11.415Z] POST /api/generate-values-combinatorial
Headers: {
  accept: '*/*',
  'content-length': '160',
  'content-type': 'application/json',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
🔄 Processing Generate VALUES.md (Combinatorial): POST http://localhost:3000/api/generate-values-combinatorial
🎯 COMBINATORIAL: Generating VALUES.md for 1 responses, template=comprehensive
[2025-07-06T17:47:11.417Z] Response 200 (2ms)
 POST /api/generate-values-combinatorial 200 in 47ms
[2025-07-06T17:57:37.155Z] POST /api/generate-values-combinatorial
Headers: {
  accept: '*/*',
  'content-length': '180',
  'content-type': 'application/json',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
🔄 Processing Generate VALUES.md (Combinatorial): POST http://localhost:3000/api/generate-values-combinatorial
🎯 COMBINATORIAL: Generating VALUES.md for 1 responses, template=comprehensive
[2025-07-06T17:57:37.160Z] Response 200 (5ms)
 POST /api/generate-values-combinatorial 200 in 65ms
[2025-07-06T17:59:12.928Z] POST /api/generate-values-combinatorial
Headers: {
  accept: '*/*',
  'content-length': '180',
  'content-type': 'application/json',
  host: 'localhost:3000',
  'user-agent': 'curl/7.81.0',
  'x-forwarded-for': '::ffff:127.0.0.1',
  'x-forwarded-host': 'localhost:3000',
  'x-forwarded-port': '3000',
  'x-forwarded-proto': 'http'
}
🔄 Processing Generate VALUES.md (Combinatorial): POST http://localhost:3000/api/generate-values-combinatorial
🎯 COMBINATORIAL: Generating VALUES.md for 1 responses, template=comprehensive
[2025-07-06T17:59:13.846Z] Response 200 (918ms)
 POST /api/generate-values-combinatorial 200 in 1411ms
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ○ Compiling /_error ...
 ✓ Compiled /_error in 1687ms
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/static/development/_buildManifest.js.tmp.377xrdcepqe'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/static/development/_buildManifest.js.tmp.377xrdcepqe'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/static/development/_buildManifest.js.tmp.1v6n14yjxpj'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/static/development/_buildManifest.js.tmp.1v6n14yjxpj'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/static/development/_buildManifest.js.tmp.s38lx91h51'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/static/development/_buildManifest.js.tmp.s38lx91h51'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/_not-found/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/_not-found/page/app-build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/app/page/app-build-manifest.json'
}
 ⨯ [Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
[Error: ENOENT: no such file or directory, open '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'open',
  path: '/home/uprootiny/June2025/DenHaag/values.md/.next/server/pages/_app/build-manifest.json'
}
